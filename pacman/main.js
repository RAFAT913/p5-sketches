let w = 20
let grid = []

//# @ * &
let map = [
  "############################",
  "#            ##            #",
  "# #### ##### ## ##### #### #",
  "#*#### ##### ## ##### ####*#",
  "# #### ##### ## ##### #### #",
  "#                          #",
  "# #### ## ######## ## #### #",
  "# #### ## ######## ## #### #",
  "#      ##    ##    ##      #",
  "###### #####.##.##### ######",
  "###### #####.##.##### ######",
  "###### ##..........## ######",
  "###### ##.###..###.## ######",
  "###### ##.#......#.## ######",
  "       ...#.&&&&.#...       ",
  "###### ##.#......#.## ######",
  "###### ##.########.## ######",
  "###### ##..........## ######",
  "###### ##.########.## ######",
  "###### ##.########.## ######",
  "#            ##            #",
  "# #### ##### ## ##### #### #",
  "# #### ##### ## ##### #### #",
  "#*  ##        @       ##  *#",
  "### ## ## ######## ## ## ###",
  "### ## ## ######## ## ## ###",
  "#      ##    ##    ##      #",
  "# ########## ## ########## #",
  "# ########## ## ########## #",
  "#                          #",
  "############################"
]

let rows = 31 //map.length
let cols = 28 //make automatic

let backgroundCol = "#040003"
let pacmanCol = "#F4FA56"
let wallsCol = "#1D338E"
let ghostsCol = "#DB0200"
let foodCol = "#FFFFFF"

function setup() {
  createCanvas(cols*w+1, rows*w+1);
  angleMode(DEGREES)

  grid = new Array(rows)
  for (let i = 0; i < rows; i++) {
    grid[i] = new Array(cols)
    for (let j = 0; j < cols; j++) {
      grid[i][j] = new Cell(j, i, map[i][j])
    }
  }

}

function draw() {
  background(50, 50, 50);

  for (let i = 0; i < rows; i++) {
    for (let j = 0; j < cols; j++) {
      grid[i][j].render()
      grid[i][j].update()
    }
  }

}